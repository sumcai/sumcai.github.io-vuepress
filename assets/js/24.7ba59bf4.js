(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{472:function(n,s,a){n.exports=a.p+"assets/img/1639699366516.8fdf692c.png"},473:function(n,s,a){n.exports=a.p+"assets/img/1639699653817.3eddf9c3.png"},606:function(n,s,a){"use strict";a.r(s);var e=a(20),r=Object(e.a)({},(function(){var n=this,s=n.$createElement,e=n._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"blend用法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#blend用法"}},[n._v("#")]),n._v(" Blend用法")]),n._v(" "),e("p",[n._v("opengl的blend用于颜色混合 ，如果不用混合，两张贴图贴在一起时，前面的贴图会覆盖后面的贴图，加上混合功能，两张贴图可以很好的贴合在一起。用代码演示一下用法。")]),n._v(" "),e("h2",{attrs:{id:"blend开启方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#blend开启方法"}},[n._v("#")]),n._v(" blend开启方法")]),n._v(" "),e("p",[n._v("blend主要使用下面几个函数：")]),n._v(" "),e("ul",[e("li",[e("code",[n._v("glEnable(GL_BLEND)")]),n._v(": 开启blend功能")]),n._v(" "),e("li",[e("code",[n._v("glBlendFunc(GLenum sfactor, GLenum dfactor)")]),n._v(": sfactor源因子，dfactor目标因子")])]),n._v(" "),e("h2",{attrs:{id:"示例代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例代码"}},[n._v("#")]),n._v(" 示例代码")]),n._v(" "),e("p",[n._v("我们先画一个普通场景")]),n._v(" "),e("div",{staticClass:"language-c++ line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('void display( GLFWwindow* window )\n{\n    glClearColor( 0, 0, 0.4, 0 );\n    glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n\n    glUseProgram(boxProgramID);\n\n\n    glm::mat4 projection = glm::perspective(glm::radians(45.0f), (float) 5 / (float)5, 0.1f, 100.0f);\n    glm::mat4 view = glm::lookAt(glm::vec3(1,2,3), glm::vec3(0,0,0), glm::vec3(0,1,0));\n    glm::mat4 model = glm::mat4(1.0f);\n    glm::mat4 mvp = projection * view * model;\n\n    // 1.画地面\n    GLuint mvpId = glGetUniformLocation(boxProgramID, "MVP");\n    glUniformMatrix4fv(mvpId, 1, GL_FALSE, &mvp[0][0]);\n    glBindVertexArray(FloorVAO);\n    glBindTexture(GL_TEXTURE_2D, floorTexture);\n    glDrawArrays(GL_TRIANGLES, 0, 6);\n\n    // 2.画立方体\n    glBindVertexArray(VAO);\n    glBindTexture(GL_TEXTURE_2D, texture);\n    glDrawArrays(GL_TRIANGLES, 0, 36);\n\n    // 3.画blend物体\n    model = glm::mat4(1.0f);\n    model = glm::translate(model, glm::vec3(0, 0, 1.01f));\n    mvp = projection * view * model;\n    glUniformMatrix4fv(mvpId, 1, GL_FALSE, &mvp[0][0]);\n    glBindTexture(GL_TEXTURE_2D, blendTexture);\n    glDrawArrays(GL_TRIANGLES, 0, 6);\n}\n\nvoid prepare() {\n    boxProgramID = LoadShaders( "data/shader/03.MVP.vs", "data/shader/03.MVP.fs" );\n\n    const GLfloat g_vertex_buffer_data[] = {\n            -0.5f, -0.5f, -0.5f,  0.0f, 0.0f,\n            0.5f, -0.5f, -0.5f,  1.0f, 0.0f,\n            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,\n            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,\n            -0.5f,  0.5f, -0.5f,  0.0f, 1.0f,\n            -0.5f, -0.5f, -0.5f,  0.0f, 0.0f,\n\n            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,\n            0.5f, -0.5f,  0.5f,  1.0f, 0.0f,\n            0.5f,  0.5f,  0.5f,  1.0f, 1.0f,\n            0.5f,  0.5f,  0.5f,  1.0f, 1.0f,\n            -0.5f,  0.5f,  0.5f,  0.0f, 1.0f,\n            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,\n\n            -0.5f,  0.5f,  0.5f,  1.0f, 0.0f,\n            -0.5f,  0.5f, -0.5f,  1.0f, 1.0f,\n            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,\n            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,\n            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,\n            -0.5f,  0.5f,  0.5f,  1.0f, 0.0f,\n\n            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,\n            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,\n            0.5f, -0.5f, -0.5f,  0.0f, 1.0f,\n            0.5f, -0.5f, -0.5f,  0.0f, 1.0f,\n            0.5f, -0.5f,  0.5f,  0.0f, 0.0f,\n            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,\n\n            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,\n            0.5f, -0.5f, -0.5f,  1.0f, 1.0f,\n            0.5f, -0.5f,  0.5f,  1.0f, 0.0f,\n            0.5f, -0.5f,  0.5f,  1.0f, 0.0f,\n            -0.5f, -0.5f,  0.5f,  0.0f, 0.0f,\n            -0.5f, -0.5f, -0.5f,  0.0f, 1.0f,\n\n            -0.5f,  0.5f, -0.5f,  0.0f, 1.0f,\n            0.5f,  0.5f, -0.5f,  1.0f, 1.0f,\n            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,\n            0.5f,  0.5f,  0.5f,  1.0f, 0.0f,\n            -0.5f,  0.5f,  0.5f,  0.0f, 0.0f,\n            -0.5f,  0.5f, -0.5f,  0.0f, 1.0f\n    };\n\n    float fllor_vertex_buffer_data[] = {\n            5.0f, -0.5f,  5.0f,  1.0f, 0.0f,\n            -5.0f, -0.5f,  5.0f,  0.0f, 0.0f,\n            -5.0f, -0.5f, -5.0f,  0.0f, 1.0f,\n\n            5.0f, -0.5f,  5.0f,  1.0f, 0.0f,\n            -5.0f, -0.5f, -5.0f,  0.0f, 1.0f,\n            5.0f, -0.5f, -5.0f,  1.0f, 1.0f\n    };\n    float blend_vertex_buffer_data[] = {\n            0.0f,  0.5f,  0.0f,  0.0f,  0.0f,\n            0.0f, -0.5f,  0.0f,  0.0f,  1.0f,\n            1.0f, -0.5f,  0.0f,  1.0f,  1.0f,\n\n            0.0f,  0.5f,  0.0f,  0.0f,  0.0f,\n            1.0f, -0.5f,  0.0f,  1.0f,  1.0f,\n            1.0f,  0.5f,  0.0f,  1.0f,  0.0f\n    };\n\n    // 1.VAO1、VBO的数据\n    glGenVertexArrays(1, &VAO);\n    glBindVertexArray(VAO);\n    GLuint VBO1;\n    glGenBuffers(1, &VBO1);\n    glBindBuffer(GL_ARRAY_BUFFER, VBO1);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(g_vertex_buffer_data), g_vertex_buffer_data, GL_STATIC_DRAW);\n    glEnableVertexAttribArray(0);\n    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)0);\n    // 纹理坐标\n    glEnableVertexAttribArray(1);\n    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)(3 * sizeof(GLfloat)));\n\n    // 2.地面贴图\n    glGenVertexArrays(1, &FloorVAO);\n    glBindVertexArray(FloorVAO);\n    GLuint VBO2;\n    glGenBuffers(1, &VBO2);\n    glBindBuffer(GL_ARRAY_BUFFER, VBO2);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(fllor_vertex_buffer_data), fllor_vertex_buffer_data, GL_STATIC_DRAW);\n    glEnableVertexAttribArray(0);\n    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)0);\n    // 纹理坐标\n    glEnableVertexAttribArray(1);\n    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)(3 * sizeof(GLfloat)));\n\n    // 2.blend贴图\n    glGenVertexArrays(1, &BlendVAO);\n    glBindVertexArray(BlendVAO);\n    GLuint VBO3;\n    glGenBuffers(1, &VBO3);\n    glBindBuffer(GL_ARRAY_BUFFER, VBO3);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(blend_vertex_buffer_data), blend_vertex_buffer_data, GL_STATIC_DRAW);\n    glEnableVertexAttribArray(0);\n    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)0);\n    // 纹理坐标\n    glEnableVertexAttribArray(1);\n    glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 5 * sizeof(GLfloat), (void*)(3 * sizeof(GLfloat)));\n\n    // 纹理数据\n    floorTexture = loadTexture("data/img/33.png");\n    texture = loadTexture("data/img/11.jpg");\n    blendTexture = loadTexture("data/img/chick.png");\n\n    glEnable(GL_DEPTH_TEST);\n}\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br"),e("span",{staticClass:"line-number"},[n._v("25")]),e("br"),e("span",{staticClass:"line-number"},[n._v("26")]),e("br"),e("span",{staticClass:"line-number"},[n._v("27")]),e("br"),e("span",{staticClass:"line-number"},[n._v("28")]),e("br"),e("span",{staticClass:"line-number"},[n._v("29")]),e("br"),e("span",{staticClass:"line-number"},[n._v("30")]),e("br"),e("span",{staticClass:"line-number"},[n._v("31")]),e("br"),e("span",{staticClass:"line-number"},[n._v("32")]),e("br"),e("span",{staticClass:"line-number"},[n._v("33")]),e("br"),e("span",{staticClass:"line-number"},[n._v("34")]),e("br"),e("span",{staticClass:"line-number"},[n._v("35")]),e("br"),e("span",{staticClass:"line-number"},[n._v("36")]),e("br"),e("span",{staticClass:"line-number"},[n._v("37")]),e("br"),e("span",{staticClass:"line-number"},[n._v("38")]),e("br"),e("span",{staticClass:"line-number"},[n._v("39")]),e("br"),e("span",{staticClass:"line-number"},[n._v("40")]),e("br"),e("span",{staticClass:"line-number"},[n._v("41")]),e("br"),e("span",{staticClass:"line-number"},[n._v("42")]),e("br"),e("span",{staticClass:"line-number"},[n._v("43")]),e("br"),e("span",{staticClass:"line-number"},[n._v("44")]),e("br"),e("span",{staticClass:"line-number"},[n._v("45")]),e("br"),e("span",{staticClass:"line-number"},[n._v("46")]),e("br"),e("span",{staticClass:"line-number"},[n._v("47")]),e("br"),e("span",{staticClass:"line-number"},[n._v("48")]),e("br"),e("span",{staticClass:"line-number"},[n._v("49")]),e("br"),e("span",{staticClass:"line-number"},[n._v("50")]),e("br"),e("span",{staticClass:"line-number"},[n._v("51")]),e("br"),e("span",{staticClass:"line-number"},[n._v("52")]),e("br"),e("span",{staticClass:"line-number"},[n._v("53")]),e("br"),e("span",{staticClass:"line-number"},[n._v("54")]),e("br"),e("span",{staticClass:"line-number"},[n._v("55")]),e("br"),e("span",{staticClass:"line-number"},[n._v("56")]),e("br"),e("span",{staticClass:"line-number"},[n._v("57")]),e("br"),e("span",{staticClass:"line-number"},[n._v("58")]),e("br"),e("span",{staticClass:"line-number"},[n._v("59")]),e("br"),e("span",{staticClass:"line-number"},[n._v("60")]),e("br"),e("span",{staticClass:"line-number"},[n._v("61")]),e("br"),e("span",{staticClass:"line-number"},[n._v("62")]),e("br"),e("span",{staticClass:"line-number"},[n._v("63")]),e("br"),e("span",{staticClass:"line-number"},[n._v("64")]),e("br"),e("span",{staticClass:"line-number"},[n._v("65")]),e("br"),e("span",{staticClass:"line-number"},[n._v("66")]),e("br"),e("span",{staticClass:"line-number"},[n._v("67")]),e("br"),e("span",{staticClass:"line-number"},[n._v("68")]),e("br"),e("span",{staticClass:"line-number"},[n._v("69")]),e("br"),e("span",{staticClass:"line-number"},[n._v("70")]),e("br"),e("span",{staticClass:"line-number"},[n._v("71")]),e("br"),e("span",{staticClass:"line-number"},[n._v("72")]),e("br"),e("span",{staticClass:"line-number"},[n._v("73")]),e("br"),e("span",{staticClass:"line-number"},[n._v("74")]),e("br"),e("span",{staticClass:"line-number"},[n._v("75")]),e("br"),e("span",{staticClass:"line-number"},[n._v("76")]),e("br"),e("span",{staticClass:"line-number"},[n._v("77")]),e("br"),e("span",{staticClass:"line-number"},[n._v("78")]),e("br"),e("span",{staticClass:"line-number"},[n._v("79")]),e("br"),e("span",{staticClass:"line-number"},[n._v("80")]),e("br"),e("span",{staticClass:"line-number"},[n._v("81")]),e("br"),e("span",{staticClass:"line-number"},[n._v("82")]),e("br"),e("span",{staticClass:"line-number"},[n._v("83")]),e("br"),e("span",{staticClass:"line-number"},[n._v("84")]),e("br"),e("span",{staticClass:"line-number"},[n._v("85")]),e("br"),e("span",{staticClass:"line-number"},[n._v("86")]),e("br"),e("span",{staticClass:"line-number"},[n._v("87")]),e("br"),e("span",{staticClass:"line-number"},[n._v("88")]),e("br"),e("span",{staticClass:"line-number"},[n._v("89")]),e("br"),e("span",{staticClass:"line-number"},[n._v("90")]),e("br"),e("span",{staticClass:"line-number"},[n._v("91")]),e("br"),e("span",{staticClass:"line-number"},[n._v("92")]),e("br"),e("span",{staticClass:"line-number"},[n._v("93")]),e("br"),e("span",{staticClass:"line-number"},[n._v("94")]),e("br"),e("span",{staticClass:"line-number"},[n._v("95")]),e("br"),e("span",{staticClass:"line-number"},[n._v("96")]),e("br"),e("span",{staticClass:"line-number"},[n._v("97")]),e("br"),e("span",{staticClass:"line-number"},[n._v("98")]),e("br"),e("span",{staticClass:"line-number"},[n._v("99")]),e("br"),e("span",{staticClass:"line-number"},[n._v("100")]),e("br"),e("span",{staticClass:"line-number"},[n._v("101")]),e("br"),e("span",{staticClass:"line-number"},[n._v("102")]),e("br"),e("span",{staticClass:"line-number"},[n._v("103")]),e("br"),e("span",{staticClass:"line-number"},[n._v("104")]),e("br"),e("span",{staticClass:"line-number"},[n._v("105")]),e("br"),e("span",{staticClass:"line-number"},[n._v("106")]),e("br"),e("span",{staticClass:"line-number"},[n._v("107")]),e("br"),e("span",{staticClass:"line-number"},[n._v("108")]),e("br"),e("span",{staticClass:"line-number"},[n._v("109")]),e("br"),e("span",{staticClass:"line-number"},[n._v("110")]),e("br"),e("span",{staticClass:"line-number"},[n._v("111")]),e("br"),e("span",{staticClass:"line-number"},[n._v("112")]),e("br"),e("span",{staticClass:"line-number"},[n._v("113")]),e("br"),e("span",{staticClass:"line-number"},[n._v("114")]),e("br"),e("span",{staticClass:"line-number"},[n._v("115")]),e("br"),e("span",{staticClass:"line-number"},[n._v("116")]),e("br"),e("span",{staticClass:"line-number"},[n._v("117")]),e("br"),e("span",{staticClass:"line-number"},[n._v("118")]),e("br"),e("span",{staticClass:"line-number"},[n._v("119")]),e("br"),e("span",{staticClass:"line-number"},[n._v("120")]),e("br"),e("span",{staticClass:"line-number"},[n._v("121")]),e("br"),e("span",{staticClass:"line-number"},[n._v("122")]),e("br"),e("span",{staticClass:"line-number"},[n._v("123")]),e("br"),e("span",{staticClass:"line-number"},[n._v("124")]),e("br"),e("span",{staticClass:"line-number"},[n._v("125")]),e("br"),e("span",{staticClass:"line-number"},[n._v("126")]),e("br"),e("span",{staticClass:"line-number"},[n._v("127")]),e("br"),e("span",{staticClass:"line-number"},[n._v("128")]),e("br"),e("span",{staticClass:"line-number"},[n._v("129")]),e("br"),e("span",{staticClass:"line-number"},[n._v("130")]),e("br"),e("span",{staticClass:"line-number"},[n._v("131")]),e("br"),e("span",{staticClass:"line-number"},[n._v("132")]),e("br"),e("span",{staticClass:"line-number"},[n._v("133")]),e("br"),e("span",{staticClass:"line-number"},[n._v("134")]),e("br"),e("span",{staticClass:"line-number"},[n._v("135")]),e("br"),e("span",{staticClass:"line-number"},[n._v("136")]),e("br"),e("span",{staticClass:"line-number"},[n._v("137")]),e("br"),e("span",{staticClass:"line-number"},[n._v("138")]),e("br"),e("span",{staticClass:"line-number"},[n._v("139")]),e("br"),e("span",{staticClass:"line-number"},[n._v("140")]),e("br"),e("span",{staticClass:"line-number"},[n._v("141")]),e("br"),e("span",{staticClass:"line-number"},[n._v("142")]),e("br"),e("span",{staticClass:"line-number"},[n._v("143")]),e("br"),e("span",{staticClass:"line-number"},[n._v("144")]),e("br"),e("span",{staticClass:"line-number"},[n._v("145")]),e("br"),e("span",{staticClass:"line-number"},[n._v("146")]),e("br")])]),e("p",[n._v("都是普通贴图操作，显示效果如下：")]),n._v(" "),e("p",[e("img",{attrs:{src:a(472),alt:"1639699366516"}})]),n._v(" "),e("p",[n._v("因为是直接贴图覆盖的，所以小鸡周边alpha为0的颜色显示为黑色，如果加上blend功能，则可以看到后面图片的内容了：")]),n._v(" "),e("div",{staticClass:"language-c++ line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("glEnable(GL_BLEND);\nglBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br")])]),e("p",[n._v("最终显示效果：")]),n._v(" "),e("p",[e("img",{attrs:{src:a(473),alt:"1639699653817"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);